<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reseñas y Comentarios</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/comentarios.css') }}">
</head>
<body>
    <div class="contenedor-body">
        <div class="navbar">
            <!-- IZQUIERDA -->
            <div class="nav-left">
                <div class="icon icon-menu">
                    <i class="fas fa-bars"></i>
                </div>
                <div class="logo">GroseryApp</div>
                <div class="icono-logo"> <img src="{{ url_for('static', filename='logo app/LogoApp.png') }}" alt=""></div>
            </div>
            <!-- CENTRO -->
            <div class="nav-center">
                <a href="#"></a><input type="text" placeholder="Buscar productos...">
            </div>
            <!-- DERECHA -->
            <div class="nav-right">
                <div class="menu">
                    <a href="{{ url_for('productos') }}" class="active">Productos</a>
                    <a href="{{ url_for('Categorias') }}">Categorias</a>                    
                    <a href="{{ url_for('Pedidos') }}">Pedidos</a>
                </div>
                <div class="icons">
                    <a href="#"><i class="fas fa-shopping-cart"></i></a>
                    <a href="{{ url_for('dashb') }}"><i class="fas fa-user-circle"></i></a>
                </div>
            </div>
        </div>
        <header>
        <h1>Nuestras Reseñas y Comentarios</h1>
        </header>

        <main>
            <!-- Sección nueva reseña -->
            <section class="nueva-reseña">
                <h2>¡Deja tu reseña!</h2>
                <form id="formulario-reseña">
                    <label for="nombre">Tu Nombre:</label>
                    <input type="text" id="nombre" name="nombre" required>

                    <!-- Estrellas -->
                    <label>Calificación:</label>
                    <div class="estrellas" id="estrellas">
                        <i class="fas fa-star" data-value="1"></i>
                        <i class="fas fa-star" data-value="2"></i>
                        <i class="fas fa-star" data-value="3"></i>
                        <i class="fas fa-star" data-value="4"></i>
                        <i class="fas fa-star" data-value="5"></i>
                    </div>
                    <input type="hidden" id="calificacion" name="calificacion" required>


                    
                    <label for="comentario">Tu Comentario:</label>
                    <textarea id="comentario" name="comentario" rows="4" required></textarea>

                    <button type="submit">Enviar Reseña</button>
                </form>
            </section>

            <!-- Sección lista reseñas -->
            <section class="lista-reseñas" id="lista-reseñas">
                <h2>Reseñas de nuestros usuarios</h2>

                <article class="reseña">
                    <div class="info-reseña">
                        <img src="https://i.pravatar.cc/51?u=ina" alt="Avatar de Ana García" class="avatar">
                        <div>
                            <p class="usuario"><strong>Ana García</strong></p>
                            <p class="calificacion">Calificación: ★★★★☆ (4/5)</p>
                        </div>
                    </div>
                    <p class="texto-comentario">
                        ¡Excelente producto! Superó mis expectativas en cuanto a calidad y funcionalidad. Lo recomiendo totalmente.
                    </p>
                </article>

                <article class="reseña">
                    <div class="info-reseña">
                        <img src="https://i.pravatar.cc/51?u=jossd" alt="Avatar Jose Peña" class="avatar">
                        <div>
                            <p class="usuario"><strong>Jose Peña</strong></p>
                            <p class="calificacion">Calificación: ★★★☆☆ (3/5)</p>
                        </div>
                    </div>
                    <p class="texto-comentario">
                        ¡Me encantó! Justo lo que necesitaba. La atención al cliente fue fantástica también.
                    </p>     
                </article>
            </section>
        </main>
    </div>
    
    <!-- FOOTER -->
    <footer class="footer">
        <a href="#">Soporte</a>
        <a href="#">Protección de datos</a>
        <a href="#">Ayuda</a>
        <a href="#">Términos y Condiciones</a>
        <a href="#">¿Quiénes somos?</a>
    </footer>

    <!-- Script externo -->
    <script src="script.js"></script>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const estrellas = document.querySelectorAll('#estrellas .fa-star');
            const inputCalificacion = document.getElementById('calificacion');

            estrellas.forEach((estrella, index) => {
                estrella.addEventListener('click', () => {
                    const valor = estrella.getAttribute('data-value');
                    inputCalificacion.value = valor;

                    // Remover clase seleccionada de todas
                    estrellas.forEach(e => e.classList.remove('seleccionada'));

                    // Agregar clase seleccionada hasta la estrella clickeada
                    for (let i = 0; i < valor; i++) {
                        estrellas[i].classList.add('seleccionada');
                    }
                });
            });
        });
    </script>

</body>
</html>
